# æ¡ˆä»¶è¨˜éŒ²ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ - ä½œæ¥­æ‰‹é †è©³ç´°ç”»é¢ã®æ”¹å–„æŒ‡ç¤º

## ğŸ¯ æ”¹å–„ç›®çš„
ä½œæ¥­æ‰‹é †è©³ç´°ç”»é¢ï¼ˆWorkInstructionResults.tsxï¼‰ã«ãŠã„ã¦ã€ä»¥ä¸‹ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ï¼š
- PDFãƒ•ã‚¡ã‚¤ãƒ«ãŒè¤‡æ•°ã®å ´åˆã®ã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚ºä¸çµ±ä¸€
- ç”»åƒãƒ»å‹•ç”»ã®è¡¨ç¤ºã‚µã‚¤ã‚ºãŒå¤§ãã™ãã‚‹
- ç”»åƒãƒ»å‹•ç”»ã®ã‚¯ãƒªãƒƒã‚¯æ‹¡å¤§æ©Ÿèƒ½ãŒãªã„
- ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆä½¿ç”¨ã‚’è€ƒæ…®ã—ãŸUIæ”¹å–„

## ğŸ“‹ ä¿®æ­£å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«
1. `src/components/WorkInstructionResults.tsx`
2. `src/components/WorkStep.tsx`

## ğŸ”§ å…·ä½“çš„ãªä¿®æ­£å†…å®¹

### 1. PDFãƒ•ã‚¡ã‚¤ãƒ«è¡¨ç¤ºã®çµ±ä¸€
```typescript
// ä¿®æ­£å‰ï¼šã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚ºãŒãƒãƒ©ãƒãƒ©
<a href="..." className="inline-flex items-center gap-2 px-4 py-2">

// ä¿®æ­£å¾Œï¼šçµ±ä¸€ã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰å½¢å¼
<a className="group flex items-center gap-3 px-4 py-3 bg-red-500/10 backdrop-blur-md text-red-400 rounded-xl border border-red-500/30 transition-all duration-200 min-w-0 max-w-xs">
  <div className="flex-shrink-0">
    <svg className="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">...</svg>
  </div>
  <div className="min-w-0 flex-1">
    <div className="text-sm font-medium truncate">{pdf}</div>
    <div className="text-xs text-red-400/70">PDFæ–‡æ›¸</div>
  </div>
</a>
```

### 2. ç”»åƒãƒ»å‹•ç”»ã®ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆè¡¨ç¤º
```typescript
// ä¿®æ­£å‰ï¼šã‚µã‚¤ã‚ºãŒå¤§ãã™ãã‚‹
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
  <img className="w-full h-48 object-cover" />

// ä¿®æ­£å¾Œï¼šã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’çµ±ä¸€ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«
<div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
  <div className="aspect-video">
    <img className="w-full h-full object-cover" />
  </div>
</div>
```

### 3. ã‚¯ãƒªãƒƒã‚¯æ‹¡å¤§æ©Ÿèƒ½ã®å®Ÿè£…
```typescript
// ãƒ¢ãƒ¼ãƒ€ãƒ«çŠ¶æ…‹ã®è¿½åŠ 
interface ModalState {
  isOpen: boolean
  type: 'image' | 'video' | null
  src: string
  alt: string
}

const [modal, setModal] = useState<ModalState>({ isOpen: false, type: null, src: '', alt: '' })

// ã‚¯ãƒªãƒƒã‚¯ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®è¿½åŠ 
const openModal = (type: 'image' | 'video', src: string, alt: string = '') => {
  setModal({ isOpen: true, type, src, alt })
  document.body.style.overflow = 'hidden'
}

// ç”»åƒãƒ»å‹•ç”»ã«ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆè¿½åŠ 
<div 
  className="cursor-pointer"
  onClick={() => openModal('image', imageSrc, imageAlt)}
>
```

### 4. ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¿½åŠ 
```typescript
{/* ãƒ¢ãƒ¼ãƒ€ãƒ« */}
{modal.isOpen && (
  <div 
    className="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4"
    onClick={closeModal}
  >
    <div className="relative max-w-6xl max-h-[90vh] w-full">
      {/* é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ */}
      <button onClick={closeModal} className="absolute -top-12 right-0 text-white/70">
        <svg className="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>

      {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
      <div className="bg-black/90 rounded-2xl overflow-hidden" onClick={(e) => e.stopPropagation()}>
        {modal.type === 'image' && (
          <img src={modal.src} alt={modal.alt} className="w-full h-auto max-h-[80vh] object-contain" />
        )}
        {modal.type === 'video' && (
          <video src={modal.src} controls autoPlay className="w-full h-auto max-h-[80vh]" />
        )}
      </div>
    </div>
  </div>
)}
```

### 5. WorkStep.tsxã®ä¿®æ­£
```typescript
// ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¯ãƒªãƒƒã‚¯ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’è¿½åŠ 
interface WorkStepProps {
  // ... æ—¢å­˜ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
  onImageClick?: (src: string, alt: string) => void
  onVideoClick?: (src: string, alt: string) => void
}

// ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã®è¿½åŠ 
<div 
  className="cursor-pointer"
  onClick={() => onImageClick?.(imageSrc, imageAlt)}
>
```

## ğŸ“± ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆå¯¾å¿œã®è€ƒæ…®äº‹é …
1. ã‚¿ãƒƒãƒæ“ä½œã«é©ã—ãŸãƒœã‚¿ãƒ³ã‚µã‚¤ã‚ºï¼ˆæœ€å°44pxï¼‰
2. é©åˆ‡ãªã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®é–“éš”
3. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚°ãƒªãƒƒãƒ‰ã®èª¿æ•´

## âœ… æœŸå¾…ã•ã‚Œã‚‹çµæœ
- PDFãƒ•ã‚¡ã‚¤ãƒ«ãŒçµ±ä¸€ã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã‚‹
- ç”»åƒãƒ»å‹•ç”»ãŒã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã§æ•´ç„¶ã¨è¡¨ç¤ºã•ã‚Œã‚‹
- ç”»åƒãƒ»å‹•ç”»ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨å…¨ç”»é¢ã§æ‹¡å¤§è¡¨ç¤ºã•ã‚Œã‚‹
- ESCã‚­ãƒ¼ã¾ãŸã¯èƒŒæ™¯ã‚¿ãƒƒãƒ—ã§ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒé–‰ã˜ã‚‹
- ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§ã®æ“ä½œæ€§ãŒå‘ä¸Šã™ã‚‹

## ğŸ”„ å®Ÿè£…æ‰‹é †
1. WorkInstructionResults.tsxã«ãƒ¢ãƒ¼ãƒ€ãƒ«æ©Ÿèƒ½ã‚’è¿½åŠ 
2. ç”»åƒãƒ»å‹•ç”»è¡¨ç¤ºéƒ¨åˆ†ã‚’ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆåŒ–
3. PDFãƒ•ã‚¡ã‚¤ãƒ«è¡¨ç¤ºã‚’çµ±ä¸€
4. WorkStep.tsxã«ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆå¯¾å¿œã‚’è¿½åŠ 
5. ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆå‘ã‘ã®ã‚¿ãƒƒãƒæ“ä½œæœ€é©åŒ–

ã“ã®ä¿®æ­£ã«ã‚ˆã‚Šã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆä½¿ç”¨è€…ã«ã¨ã£ã¦ä½¿ã„ã‚„ã™ãã€è¦–è¦šçš„ã«ã‚‚æ•´ç†ã•ã‚ŒãŸä½œæ¥­æ‰‹é †è©³ç´°ç”»é¢ãŒå®Ÿç¾ã•ã‚Œã¾ã™ã€‚

## ğŸ“ è£œè¶³äº‹é …

### ESCã‚­ãƒ¼å¯¾å¿œã‚³ãƒ¼ãƒ‰
```typescript
// ESCã‚­ãƒ¼ã§ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
useEffect(() => {
  const handleEscape = (e: KeyboardEvent) => {
    if (e.key === 'Escape') {
      closeModal()
    }
  }

  if (modal.isOpen) {
    document.addEventListener('keydown', handleEscape)
    return () => document.removeEventListener('keydown', handleEscape)
  }
}, [modal.isOpen])
```

### ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹å‡¦ç†
```typescript
const closeModal = () => {
  setModal({ isOpen: false, type: null, src: '', alt: '' })
  document.body.style.overflow = 'auto' // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æœ‰åŠ¹åŒ–
}
```

### è­¦å‘Šãƒ¬ãƒ™ãƒ«ã‚¹ã‚¿ã‚¤ãƒ«é–¢æ•°
```typescript
const getWarningLevelStyle = (level: string) => {
  const styles = {
    'normal': 'bg-green-500/20 text-green-400 border border-green-500/30',
    'caution': 'bg-yellow-500/20 text-yellow-400 border border-yellow-500/30',
    'important': 'bg-orange-500/20 text-orange-400 border border-orange-500/30',
    'critical': 'bg-red-500/20 text-red-400 border border-red-500/30'
  }
  return styles[level as keyof typeof styles] || styles.normal
}
```

---

**ä½œæˆæ—¥**: 2024å¹´12æœˆ31æ—¥  
**å¯¾è±¡**: æ¡ˆä»¶è¨˜éŒ²ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹  
**å„ªå…ˆåº¦**: é«˜ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£æ”¹å–„ï¼‰